[gd_scene load_steps=10 format=3 uid="uid://cfkfxl8h7lxnx"]

[ext_resource type="Script" uid="uid://d27x87ltwinwb" path="res://scenes/main_scene.gd" id="1_c16ls"]
[ext_resource type="PackedScene" uid="uid://cjdqy37jfat77" path="res://assets/models/world/world.tscn" id="2_7ykc4"]
[ext_resource type="PackedScene" uid="uid://dgua3aluk4hh8" path="res://features/settings/settings_manager.tscn" id="2_gubc5"]
[ext_resource type="PackedScene" uid="uid://bqf7nocgwxgn5" path="res://features/client/client_manager.tscn" id="2_pu3yx"]
[ext_resource type="PackedScene" uid="uid://c0da8tnw3bidx" path="res://components/sandbox/sandbox.tscn" id="3_c1pb6"]
[ext_resource type="PackedScene" uid="uid://bn1taiis8e83p" path="res://components/overworld/overworld-v4.tscn" id="5_6wevv"]
[ext_resource type="PackedScene" uid="uid://csjdctnibsq81" path="res://features/logging/log_manager.tscn" id="5_c1pb6"]
[ext_resource type="PackedScene" uid="uid://duj1joqbduoat" path="res://features/music/music_manager.tscn" id="7_c16ls"]
[ext_resource type="PackedScene" uid="uid://bl0fys7hfj57b" path="res://features/streaming/streaming_manager.tscn" id="8_18nlu"]

[node name="Main" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_c16ls")

[node name="Background_V1" type="SubViewportContainer" parent="."]
visible = false
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
stretch = true

[node name="SubViewport" type="SubViewport" parent="Background_V1"]
disable_3d = true
handle_input_locally = false
canvas_item_default_texture_filter = 0
size = Vector2i(640, 360)
size_2d_override = Vector2i(1920, 1080)
render_target_update_mode = 0

[node name="World" type="Node3D" parent="Background_V1/SubViewport"]
process_mode = 4
visible = false

[node name="WorldScene" parent="Background_V1/SubViewport/World" instance=ExtResource("2_7ykc4")]

[node name="Background_V2" type="Node2D" parent="."]
position = Vector2(319, 205)

[node name="Overworld" parent="Background_V2" instance=ExtResource("5_6wevv")]
visible = false

[node name="Sandbox" parent="Background_V2" instance=ExtResource("3_c1pb6")]

[node name="Camera2D" type="Camera2D" parent="Background_V2/Sandbox/Obstacles/PointLight2D/SandboxLight" index="2"]
enabled = false
position_smoothing_enabled = true
position_smoothing_speed = 3.0
editor_draw_drag_margin = true

[node name="Foreground" type="Control" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="LogManager" parent="Foreground" instance=ExtResource("5_c1pb6")]
log_level = 5

[node name="SettingsManager" parent="Foreground" instance=ExtResource("2_gubc5")]
visible = false
layout_mode = 0

[node name="ClientManager" parent="Foreground" instance=ExtResource("2_pu3yx")]
process_mode = 4
visible = false
layout_mode = 0
client_connection_url = "ws://127.0.0.1:39580"

[node name="MusicManager" parent="Foreground" instance=ExtResource("7_c16ls")]
visible = false
layout_mode = 0
player_volume_db = -26.6

[node name="StreamingManager" parent="Foreground" instance=ExtResource("8_18nlu")]
layout_mode = 0
streaming_process_state = 0

[editable path="Background_V1/SubViewport/World/WorldScene"]
[editable path="Background_V2/Sandbox"]
